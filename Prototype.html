<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype - UWE Bristol 5G Classroom Communication</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background-color: #003057; /* UWE Bristol blue */
            color: white;
            padding: 20px 0;
            text-align: center;
        }
        
        nav {
            background-color: #00467f;
            padding: 10px 0;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
        }
        
        nav ul li {
            margin: 0 15px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: #f1c40f;
        }
        
        .hero {
            background: linear-gradient(rgba(0, 48, 87, 0.8), rgba(0, 48, 87, 0.8)), url('https://unsplash.com/photos/YK0HPwWDJ1I/download?ixid=M3wxMjA3fDB8MXxzZWFyY2h8Mnx8Y2xhc3Nyb29tfGVufDB8fHx8MTcwNzIzMDI5MXww&force=true&w=1920') center/cover no-repeat;
            color: white;
            text-align: center;
            padding: 100px 20px;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        section {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: #003057;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: #f1c40f;
            margin: 15px auto;
        }
        
        .mission-content, .what-we-do-content, .story-content, .commitment-content {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .features {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
        }
        
        .feature-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 300px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: #003057;
            margin-bottom: 20px;
        }
        
        .team-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
        }
        
        .team-member {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 250px;
            text-align: center;
        }
        
        .team-member img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
        }
        
        .team-member h3 {
            color: #003057;
            margin-bottom: 5px;
        }
        
        .team-member p {
            color: #666;
            font-size: 0.9rem;
        }
        
        footer {
            background-color: #003057;
            color: white;
            text-align: center;
            padding: 30px 0;
        }
        
        .social-links {
            margin: 20px 0;
        }
        
        .social-links a {
            color: white;
            margin: 0 10px;
            font-size: 1.5rem;
            transition: color 0.3s;
        }
        
        .social-links a:hover {
            color: #f1c40f;
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav ul li {
                margin: 5px 0;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Live Chat and Video Player</h1>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="Prototype.html">Prototype</a></li>
            </ul>
        </div>
    </nav>
    
    <section class="hero">
        <div class="container">
            <iframe width="895" height="503" src="https://www.youtube.com/embed/g53tqrBjIgc" title="Control Systems Engineering - Lecture 1 - Introduction" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
    </section>
    <section class="hero">
        <div class="chat-container">
            <h1>Live Chat</h1>
            <div class="chat-box" id="chat-box">
                <!-- Messages will appear here -->
                <div class="message system-message">Welcome to the live chat! Feel free to ask questions about the lecture.</div>
            </div>
            <div class="chat-input">
                <input type="text" id="user-name" placeholder="Your Name" class="chat-name-input">
                <input type="text" id="message-input" placeholder="Type your message..." class="chat-message-input">
                <button id="send-button">Send</button>
            </div>
        </div>
        <style>
            .chat-container {
                width: 100%;
                max-width: 800px;
                margin: 0 auto;
                background-color: rgba(255, 255, 255, 0.1);
                border-radius: 8px;
                padding: 20px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }
            
            .chat-box {
                height: 300px;
                overflow-y: auto;
                margin-bottom: 20px;
                padding: 15px;
                background-color: rgba(0, 0, 0, 0.2);
                border-radius: 8px;
            }
            
            .message {
                margin-bottom: 10px;
                padding: 10px;
                border-radius: 5px;
                max-width: 80%;
                word-wrap: break-word;
                position: relative;
                animation: fadeIn 0.3s ease-in-out;
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .user-message {
                background-color: #003057;
                color: white;
                margin-left: auto;
                text-align: right;
                border-bottom-right-radius: 0;
            }
            
            .other-message {
                background-color: #00467f;
                color: white;
                border-bottom-left-radius: 0;
            }
            
            .system-message {
                background-color: rgba(241, 196, 15, 0.7);
                color: #333;
                text-align: center;
                margin: 10px auto;
                max-width: 90%;
            }
            
            .typing-indicator {
                background-color: rgba(255, 255, 255, 0.2);
                color: #eee;
                font-style: italic;
                max-width: 50%;
                padding: 5px 10px;
            }
            
            .timestamp {
                font-size: 0.7rem;
                color: rgba(255, 255, 255, 0.7);
                margin-left: 5px;
            }
            
            .chat-input {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
            }
            
            .chat-name-input {
                flex: 1;
                min-width: 150px;
            }
            
            .chat-message-input {
                flex: 3;
                min-width: 200px;
            }
            
            #send-button {
                background-color: #f1c40f;
                color: #003057;
                border: none;
                padding: 10px 15px;
                border-radius: 5px;
                cursor: pointer;
                font-weight: bold;
                transition: background-color 0.3s;
            }
            
            #send-button:hover {
                background-color: #f39c12;
            }
            
            input[type="text"] {
                padding: 10px;
                border: none;
                border-radius: 5px;
                background-color: rgba(255, 255, 255, 0.8);
            }
        </style>
    </section>
    
    
    
    <footer>
        <div class="container">
            <p>&copy; 2023 UWE Bristol Classroom Communication. All rights reserved.</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
            <p>University of the West of England, Bristol</p>
        </div>
    </footer>
</body>

<script>
    // Chat functionality
    document.addEventListener('DOMContentLoaded', function() {
        const chatBox = document.getElementById('chat-box');
        const messageInput = document.getElementById('message-input');
        const userNameInput = document.getElementById('user-name');
        const sendButton = document.getElementById('send-button');
        
        // Store chat history in session storage
        let chatHistory = [];
        
        // Try to load previous chat history from session storage
        try {
            const savedChat = sessionStorage.getItem('chatHistory');
            if (savedChat) {
                chatHistory = JSON.parse(savedChat);
                // Restore previous messages
                chatHistory.forEach(msg => {
                    addMessageToDOM(msg.text, msg.userName, msg.messageType, msg.timestamp);
                });
            }
        } catch (e) {
            console.error('Error loading chat history:', e);
            // Add default welcome message if no history
            if (chatBox.children.length === 0) {
                addMessage('Welcome to the live chat! Feel free to ask questions about the lecture.', '', 'system-message');
            }
        }
        
        // Sample user names for simulated responses
        const sampleNames = ['Professor Smith', 'Teaching Assistant', 'Student1', 'Student2'];
        
        // Sample responses to simulate a live chat
        const sampleResponses = [
            "That's an interesting point about control systems!",
            "Could you explain more about the feedback mechanisms?",
            "I think slide 15 had some information about that topic.",
            "Has anyone found additional resources on this subject?",
            "The lecture covered this in detail around the 10-minute mark.",
            "I'm still confused about the mathematical model, can someone help?",
            "Does anyone have notes from the previous lecture?",
            "The relationship between input and output is crucial in control systems.",
            "Can we discuss this topic more in the next tutorial?"
        ];
        
        // Context-aware responses based on keywords
        const keywordResponses = {
            'feedback': ["Feedback is essential in control systems for stability.", "Negative feedback helps reduce errors in the system."],
            'model': ["Mathematical models help us predict system behavior.", "We can use differential equations to model dynamic systems."],
            'control': ["Control theory has applications in many engineering fields.", "PID controllers are widely used in industrial applications."],
            'lecture': ["The lecture slides are available on Blackboard.", "Did you find the lecture examples helpful?"],
            'question': ["That's a great question! Let me try to answer.", "I'd recommend asking that during office hours too."]
        };
        
        // Function to get current timestamp
        function getTimestamp() {
            const now = new Date();
            return now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        }
        
        // Function to add a message to the chat and save to history
        function addMessage(text, userName, messageType) {
            const timestamp = getTimestamp();
            
            // Add to DOM
            addMessageToDOM(text, userName, messageType, timestamp);
            
            // Save to history (except system messages)
            if (messageType !== 'system-message') {
                chatHistory.push({text, userName, messageType, timestamp});
                // Keep only last 50 messages
                if (chatHistory.length > 50) {
                    chatHistory.shift();
                }
                // Save to session storage
                try {
                    sessionStorage.setItem('chatHistory', JSON.stringify(chatHistory));
                } catch (e) {
                    console.error('Error saving chat history:', e);
                }
            }
        }
        
        // Function to add a message to the DOM
        function addMessageToDOM(text, userName, messageType, timestamp) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(messageType);
            
            let messageContent = '';
            if (messageType !== 'system-message') {
                messageContent = `<strong>${userName}</strong> <span class="timestamp">${timestamp}</span>: `;
            }
            messageContent += text;
            
            messageElement.innerHTML = messageContent;
            chatBox.appendChild(messageElement);
            
            // Auto-scroll to the bottom
            chatBox.scrollTop = chatBox.scrollHeight;
        }
        
        // Function to find context-aware responses based on message content
        function findContextResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Check for keywords in the message
            for (const [keyword, responses] of Object.entries(keywordResponses)) {
                if (lowerMessage.includes(keyword)) {
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            }
            
            // Return a random response if no keyword matches
            return sampleResponses[Math.floor(Math.random() * sampleResponses.length)];
        }
        
        // Function to simulate responses
        function simulateResponse(userMessage) {
            // 70% chance of getting a response
            if (Math.random() > 0.3) {
                setTimeout(() => {
                    const randomName = sampleNames[Math.floor(Math.random() * sampleNames.length)];
                    
                    // Try to generate a context-aware response
                    const response = findContextResponse(userMessage);
                    
                    addMessage(response, randomName, 'other-message');
                    
                    // 30% chance of a follow-up response from another user
                    if (Math.random() > 0.7) {
                        setTimeout(() => {
                            const anotherName = sampleNames[Math.floor(Math.random() * sampleNames.length)];
                            if (anotherName !== randomName) { // Ensure it's a different user
                                const followUpResponse = findContextResponse(response);
                                addMessage(followUpResponse, anotherName, 'other-message');
                            }
                        }, Math.random() * 4000 + 2000); // Random delay between 2-6 seconds for follow-up
                    }
                    
                }, Math.random() * 3000 + 1000); // Random delay between 1-4 seconds
            }
        }
        
        // Send message when button is clicked
        sendButton.addEventListener('click', sendMessage);
        
        // Send message when Enter key is pressed in the input field
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = messageInput.value.trim();
            let userName = userNameInput.value.trim();
            
            if (message === '') return; // Don't send empty messages
            
            // Use 'You' as default if no name is provided
            if (userName === '') {
                userName = 'You';
            }
            
            // Add user message
            addMessage(message, userName, 'user-message');
            
            // Clear input field
            messageInput.value = '';
            
            // Simulate a response based on the user's message
            simulateResponse(message);
        }
        
        // Add a typing indicator occasionally
        setInterval(() => {
            if (Math.random() > 0.9 && chatHistory.length > 0) {
                const typingName = sampleNames[Math.floor(Math.random() * sampleNames.length)];
                const typingIndicator = document.createElement('div');
                typingIndicator.classList.add('message', 'typing-indicator');
                typingIndicator.innerHTML = `<em>${typingName} is typing...</em>`;
                chatBox.appendChild(typingIndicator);
                chatBox.scrollTop = chatBox.scrollHeight;
                
                // Remove typing indicator after a random time
                setTimeout(() => {
                    if (typingIndicator.parentNode === chatBox) {
                        chatBox.removeChild(typingIndicator);
                    }
                }, Math.random() * 3000 + 1000);
            }
        }, 10000); // Check every 10 seconds
    });
</script>
</html>